{"version":3,"sources":["UserContext.js","Input.js","Form.js","tictactoe/Board.js","tictactoe/Profile.js","tictactoe/Sidebar.js","tictactoe/Game.js","ProfilePage.js","EditProfile.js","App.js","index.js","loader.js"],"names":["UserContext","createContext","UserProvider","props","useState","_id","username","email","password","image","win","draw","lose","user","setUser","isAuth","setIsAuth","usersContext","players","setPlayers","Provider","value","children","Input","label","type","onChange","className","withRouter","emailInput","formName","text","history","useContext","event","target","onClick","axios","post","then","res","data","console","log","alert","push","preventDefault","login","href","Number","useEffect","symbol","socket","io","myTurn","isGameOver","state","obj","$","each","this","attr","getBoardState","matches","rows","r0c0","r0c1","r0c2","r1c0","r1c1","r1c2","r2c0","r2c1","r2c2","i","length","renderTurnMessage","removeAttr","makeMove","e","emit","position","on","id","to","withCredentials","src","alt","Sidebar","get","onlinePlayers","map","player","index","play","class","toFixed","onSubmit","formData","FormData","append","encType","htmlFor","files","filename","App","exact","path","pathname","ReactDOM","render","StrictMode","document","getElementById","window","jQuery","require"],"mappings":"+LAEaA,EAAcC,wBAAc,IAE5BC,EAAe,SAACC,GAAW,IAAD,EACbC,mBAAS,CAC/BC,IAAK,GACLC,SAAU,GACVC,MAAO,GACPC,SAAU,GACVC,MAAO,GACPC,IAAK,GACLC,KAAM,GACNC,KAAM,KAT6B,mBAC9BC,EAD8B,KACxBC,EADwB,OAWTV,oBAAS,GAXA,mBAW9BW,EAX8B,KAWtBC,EAXsB,OAYPZ,mBAAS,IAZF,mBAkB/Ba,EAAe,CACnBJ,OACAC,UACAC,SACAC,YACAE,QAvBmC,KAwBnCC,WAxBmC,MA2BrC,OACE,cAACnB,EAAYoB,SAAb,CAAsBC,MAAOJ,EAA7B,SACGd,EAAMmB,Y,2CCfEC,MAhBf,YAAkD,IAAjCC,EAAgC,EAAhCA,MAAOC,EAAyB,EAAzBA,KAAMJ,EAAmB,EAAnBA,MAAOK,EAAY,EAAZA,SACnC,OACE,8BACE,sBAAKC,UAAU,aAAf,UACE,gCAAQH,IACR,uBACEE,SAAUA,EACVD,KAAMA,EACNE,UAAU,eACVN,MAAOA,U,gBCyGFO,mBA9Gf,YAA4C,IAItCC,EAJUC,EAA2B,EAA3BA,SAAUC,EAAiB,EAAjBA,KAAMC,EAAW,EAAXA,QACxBf,EAAegB,qBAAWjC,GACxBa,EAAqCI,EAArCJ,KAAMC,EAA+BG,EAA/BH,QAAiBE,GAAcC,EAAtBF,OAAsBE,EAAdD,WAqE/B,MAXiB,UAAbc,IACFD,EACE,cAAC,EAAD,CACEH,SAtDc,SAACQ,GACnBpB,EAAQ,2BAAKD,GAAN,IAAYN,MAAO2B,EAAMC,OAAOd,UAsDnCI,KAAK,QACLD,MAAM,QACNH,MAAOR,EAAKN,SAMhB,sBAAKoB,UAAU,iBAAf,UACE,6BAAKG,IACL,qBAAKH,UAAU,6BAAf,SACE,qBAAKA,UAAU,sBAAf,SACE,qBAAKA,UAAU,OAAf,SACE,sBAAKA,UAAU,YAAf,UAGE,cAAC,EAAD,CACED,SA3ES,SAACQ,GACtBpB,EAAQ,2BAAKD,GAAN,IAAYP,SAAU4B,EAAMC,OAAOd,UA2E9BI,KAAK,OACLD,MAAM,WACNH,MAAOR,EAAKP,WAEbuB,EACD,cAAC,EAAD,CACEH,SA5ES,SAACQ,GACtBpB,EAAQ,2BAAKD,GAAN,IAAYL,SAAU0B,EAAMC,OAAOd,UA4E9BI,KAAK,WACLD,MAAM,WACNH,MAAOR,EAAKL,WAEd,wBACE4B,QAAsB,UAAbN,EAzDH,SAACI,GACnBG,IACGC,KAAK,mDAAoD,CACxDhC,SAAUO,EAAKP,SACfE,SAAUK,EAAKL,WAEhB+B,MAAK,SAACC,GACY,mBAAbA,EAAIC,MACNC,QAAQC,IAAIH,GACZI,MAAM,iDAEN9B,EAAQ0B,EAAIC,MACZzB,GAAU,GACV0B,QAAQC,IAAIH,EAAIC,MAChBT,EAAQa,KAAK,SAGnBR,IAAMC,KAAK,yDAA0D,CACnEhC,SAAUO,EAAKP,WAEjB4B,EAAMY,kBAzCe,SAACZ,GACtBG,IACGC,KAAK,sDADR,2BAEOzB,GAFP,IAGIkC,MAAO,KAERR,MAAK,SAACC,GACY,wBAAbA,EAAIC,MACNC,QAAQC,IAAIH,GACZI,MAAM,yCAEN9B,EAAQ0B,EAAIC,MACZC,QAAQC,IAAIH,EAAIC,MAChBzB,GAAU,GACVgB,EAAQa,KAAK,SAInBX,EAAMY,kBA6DMrB,KAAK,SACLE,UAAU,eAHZ,SAKGG,IAEH,mBAAGkB,KAAI,WAAmB,UAAblB,EAAuB,WAAa,SAAjD,SACGC,mB,yCCkEFH,mBAtKf,YAA4B,EAAXI,QAAY,IACrBf,EAAegB,qBAAWjC,GACxBa,EAA6BI,EAA7BJ,KAAMC,EAAuBG,EAAvBH,QACRF,GAD+BK,EAAdD,UACViC,OAAOpC,EAAKD,OACnBF,EAAMuC,OAAOpC,EAAKH,KAgJxB,OAxHAwC,qBAAU,WACR,IAEIC,EAFEC,EAASC,IAAG,0CACdC,GAAS,EAiBb,SAASC,IAiBP,IAhBA,IAAIC,EAfN,WACE,IAAIC,EAAM,GAUV,OAJAC,IAAE,iBAAiBC,MAAK,WACtBF,EAAIC,IAAEE,MAAMC,KAAK,OAASH,IAAEE,MAAM7B,QAAU,MAGvC0B,EAIKK,GACRC,EAAU,CAAC,MAAO,OAGlBC,EAAO,CACTR,EAAMS,KAAOT,EAAMU,KAAOV,EAAMW,KAChCX,EAAMY,KAAOZ,EAAMa,KAAOb,EAAMc,KAChCd,EAAMe,KAAOf,EAAMgB,KAAOhB,EAAMiB,KAChCjB,EAAMS,KAAOT,EAAMY,KAAOZ,EAAMe,KAChCf,EAAMU,KAAOV,EAAMa,KAAOb,EAAMgB,KAChChB,EAAMW,KAAOX,EAAMc,KAAOd,EAAMiB,KAChCjB,EAAMS,KAAOT,EAAMa,KAAOb,EAAMiB,KAChCjB,EAAMW,KAAOX,EAAMa,KAAOb,EAAMe,MAIzBG,EAAI,EAAGA,EAAIV,EAAKW,OAAQD,IAC/B,GAAIV,EAAKU,KAAOX,EAAQ,IAAMC,EAAKU,KAAOX,EAAQ,GAChD,OAAO,EAIX,OAAO,EAGT,SAASa,IACFtB,GAMHI,IAAE,YAAY3B,KAAK,cACnB2B,IAAE,iBAAiBmB,WAAW,cAL9BnB,IAAE,YAAY3B,KAAK,wBACnB2B,IAAE,iBAAiBG,KAAK,YAAY,IAQxC,SAASiB,EAASC,GACXzB,IAIDI,IAAEE,MAAM7B,OAAO4C,QAInBvB,EAAO4B,KAAK,YAAa,CAEvB7B,OAAQA,EACR8B,SAAUvB,IAAEE,MAAMC,KAAK,SAK3BT,EAAO8B,GAAG,aAAa,SAAUzC,GAC/BiB,IAAE,IAAMjB,EAAKwC,UAAUlD,KAAKU,EAAKU,QAIjCG,EAASb,EAAKU,SAAWA,EAEpBI,KAKCD,GACFI,IAAE,YAAY3B,KAAK,aA5GzBM,IACGC,KAAK,wDAAyD,CAC7DjC,IAAKQ,EAAKR,IACVO,KAAMA,EAAO,IAEd2B,MAAK,SAACC,GACL1B,EAAQ,2BAAKD,GAAN,IAAYD,KAAMqC,OAAOT,EAAIC,KAAK7B,MAAQ,UA0G/C8C,IAAE,YAAY3B,KAAK,YAtGzBM,IACGC,KAAK,uDAAwD,CAC5DjC,IAAKQ,EAAKR,IACVK,IAAKA,EAAM,IAEZ6B,MAAK,SAACC,GACLE,QAAQC,IAAIH,EAAIC,MAChB3B,EAAQ,2BAAKD,GAAN,IAAYH,IAAKuC,OAAOT,EAAIC,KAAK/B,KAAO,SAoG/CgD,IAAE,iBAAiBG,KAAK,YAAY,IAbpCe,OAkBJxB,EAAO8B,GAAG,cAAc,SAAUzC,GAChCU,EAASV,EAAKU,OACdG,EAAoB,MAAXH,EACTyB,OAIFxB,EAAO8B,GAAG,iBAAiB,WACzBxB,IAAE,YAAY3B,KAAK,gCACnB2B,IAAE,iBAAiBG,KAAK,YAAY,MAItCH,KAAE,WACAA,IAAE,iBAAiBG,KAAK,YAAY,GACpCH,IAAE,kBAAkBwB,GAAG,QAASJ,QAEjC,IAGD,sBAAKnD,UAAU,kBAAf,UACE,qBAAKwD,GAAG,UAAR,wCACA,sBAAKxD,UAAU,QAAf,UACE,wBAAQA,UAAU,MAAMwD,GAAG,SAAiB,IAC5C,wBAAQxD,UAAU,MAAMwD,GAAG,SAAiB,IAC5C,wBAAQxD,UAAU,MAAMwD,GAAG,SAC3B,wBAAQxD,UAAU,MAAMwD,GAAG,SAAiB,IAC5C,wBAAQxD,UAAU,MAAMwD,GAAG,SAAiB,IAC5C,wBAAQxD,UAAU,MAAMwD,GAAG,SAC3B,wBAAQxD,UAAU,MAAMwD,GAAG,SAAiB,IAC5C,wBAAQxD,UAAU,MAAMwD,GAAG,SAAiB,IAC5C,wBAAQxD,UAAU,MAAMwD,GAAG,kBC9HpBvD,mBApCf,WACE,IAAMX,EAAegB,qBAAWjC,GACxBa,EAA6BI,EAA7BJ,KAAMC,EAAuBG,EAAvBH,QAASE,EAAcC,EAAdD,UAUvB,OACE,sBAAKW,UAAU,UAAUwD,GAAG,SAA5B,UACE,sBAAKxD,UAAU,eAAf,UACE,oBAAIA,UAAU,YAAd,SAA2Bd,EAAKP,WAChC,cAAC,IAAD,CAAM8E,GAAG,eAAT,SAEE,mBAAGzD,UAAU,OAAb,4BAEF,cAAC,IAAD,CAAMyD,GAAG,SAAT,SAEE,mBAAGhD,QAlBI,WACbC,IAAMC,KAAK,oDAAqDzB,EAAM,CACpEwE,iBAAiB,IAEnBvE,EAAQ,IACRE,GAAU,IAagBW,UAAU,OAA9B,0BAKJ,qBACE2D,IAAKzE,EAAKJ,MAAL,kBAAwBI,EAAKJ,OAAU,sBAC5C8E,IAAI,cACJ5D,UAAU,sB,QCIH6D,MAlCf,WACE,IAAMvE,EAAegB,qBAAWjC,GAClBkB,GAAwBD,EAA9BJ,KAA8BI,EAAxBC,SAASC,EAAeF,EAAfE,WAevB,OACE,sBAAKQ,UAAU,UAAf,UACE,oBAAIA,UAAU,YAAd,2BACA,wBAAQA,UAAU,iBAAiBS,QAhBpB,WACjBjB,EAAW,IACXkB,IACGoD,IAAI,2DACJlD,MAAK,SAACC,GACL,IACIkD,EADMlD,EAAIC,KACUkD,KAAI,SAACC,GAC3B,OAAOA,EAAOtF,YAEhBa,EAAW,YAAIuE,QAOjB,qBAGA,oBAAI/D,UAAU,kBAAd,SACGT,EAAQyE,KAAI,SAACC,EAAQC,GAAT,OACX,qBAAiBlE,UAAU,gBAA3B,SACE,6BAAKiE,KADGC,YCVLjE,mBAbf,WACE,OACE,gCACE,oBAAID,UAAU,YAAd,yBACA,sBAAKA,UAAU,sBAAf,UACE,cAAC,EAAD,IACA,cAAC,EAAD,IACA,cAAC,EAAD,a,OC8DOC,mBAvEf,WACE,IACQf,EADaoB,qBAAWjC,GACxBa,KACAH,EAAoBG,EAApBH,IAAKC,EAAeE,EAAfF,KAAMC,EAASC,EAATD,KACbkF,EAAO7C,OAAOvC,GAAOuC,OAAOtC,GAAQsC,OAAOrC,GAEjD,OACE,8BACE,qBAAKmF,MAAM,8BAAX,SACE,sBAAKA,MAAM,oBAAX,UACE,qBACET,IAAKzE,EAAKJ,MAAL,kBAAwBI,EAAKJ,OAAU,sBAC5CsF,MAAM,wBACNR,IAAI,QAEN,sBAAKQ,MAAM,YAAX,UACE,oBAAIA,MAAM,aAAV,qBAEA,sBAAKA,MAAM,OAAX,UACE,yCACA,4BAAIlF,EAAKP,cAGX,sBAAKyF,MAAM,OAAX,UACE,sCACA,4BAAIlF,EAAKN,WAEX,sBAAKwF,MAAM,OAAX,UACE,qCACA,4BAAID,OAEN,sBAAKC,MAAM,OAAX,UACE,uCACA,8BACmB,IAAhB9C,OAAOvC,GACJ,KADH,UAEwC,KAAjCuC,OAAOvC,GAAOoF,GAAME,QAAQ,GAFnC,KADH,IAIItF,EAJJ,UAOF,sBAAKqF,MAAM,OAAX,UACE,qCACA,8BACoB,IAAjB9C,OAAOtC,GACJ,KADH,UAEyC,KAAlCsC,OAAOtC,GAAQmF,GAAME,QAAQ,GAFpC,KADH,IAIIrF,EAJJ,UAOF,sBAAKoF,MAAM,OAAX,UACE,sCACA,8BACoB,IAAjB9C,OAAOrC,GACJ,KADH,UAEyC,KAAlCqC,OAAOrC,GAAQkF,GAAME,QAAQ,GAFpC,KADH,IAIIpF,EAJJ,UAOF,cAAC,IAAD,CAAMwE,GAAG,IAAT,SACE,wBAAQW,MAAM,0BAAd,oBAEF,cAAC,IAAD,CAAMX,GAAG,eAAT,SACE,wBAAQW,MAAM,0BAAd,yCCuBCnE,mBApFf,YAAkC,EAAXI,QAAY,IAC3Bf,EAAegB,qBAAWjC,GACxBa,EAA6BI,EAA7BJ,KAAMC,EAAuBG,EAAvBH,QAASE,EAAcC,EAAdD,UAqBvB,OACE,sBAAKW,UAAU,iBAAf,UACE,8CACA,qBAAKA,UAAU,6BAAf,SACE,qBAAKA,UAAU,sBAAf,SACE,qBAAKA,UAAU,OAAf,SACE,sBAAKA,UAAU,YAAf,UAEE,uBAAMsE,SA3BD,SAAC/D,GAChB,IAAMgE,EAAW,IAAIC,SAErBD,EAASE,OAAO,QAASvF,EAAKJ,OAC9ByF,EAASE,OAAO,WAAYvF,EAAKP,UACjC4F,EAASE,OAAO,QAASvF,EAAKN,OAC9B2F,EAASE,OAAO,WAAYvF,EAAKL,UACjC0F,EAASE,OAAO,MAAOvF,EAAKR,KAE5BgC,IACGC,KAAK,yDAA0D4D,GAC/D3D,MAAK,SAACC,GACLI,MAAM,kDACN5B,GAAU,GACVF,EAAQ,OAEZoB,EAAMY,kBAW8BuD,QAAQ,sBAAlC,UACE,sBAAK1E,UAAU,aAAf,UACE,uBAAO2E,QAAQ,OAAf,mBACA,uBACE5E,SAAU,SAACQ,GACTpB,EAAQ,2BAAKD,GAAN,IAAYJ,MAAOyB,EAAMC,OAAOoE,MAAM,OAE/C9E,KAAK,OACL+E,SAAS,QACT7E,UAAU,oBAGd,cAAC,EAAD,CACED,SAAU,SAACQ,GACTpB,EAAQ,2BAAKD,GAAN,IAAYP,SAAU4B,EAAMC,OAAOd,UAE5CI,KAAK,OACLD,MAAM,WACNH,MAAOR,EAAKP,WAEd,cAAC,EAAD,CACEoB,SAAU,SAACQ,GACTpB,EAAQ,2BAAKD,GAAN,IAAYN,MAAO2B,EAAMC,OAAOd,UAEzCI,KAAK,QACLD,MAAM,QACNH,MAAOR,EAAKN,QAEd,cAAC,EAAD,CACEmB,SAAU,SAACQ,GACTpB,EAAQ,2BAAKD,GAAN,IAAYL,SAAU0B,EAAMC,OAAOd,UAE5CI,KAAK,WACLD,MAAM,WACNH,MAAOR,EAAKL,WAGd,wBAAQiB,KAAK,SAASE,UAAU,eAAhC,qBAIF,cAAC,IAAD,CAAMyD,GAAG,IAAT,SAEE,mBAAGzD,UAAU,iBAAb,qCCUD8E,MAzEf,WACE,IAAMxF,EAAegB,qBAAWjC,GAClBe,GAAgCE,EAAtCJ,KAAsCI,EAAhCF,QAOd,OAP8CE,EAAxBC,QAAwBD,EAAfE,WAQ7B,cAAC,IAAD,UACE,qBAAKQ,UAAU,MAAf,SACE,wBAAQA,UAAU,aAAlB,SACE,eAAC,IAAD,WAEE,cAAC,IAAD,CAAO+E,OAAK,EAACC,KAAK,IAAlB,SACG5F,EAAS,cAAC,EAAD,IAAW,cAAC,IAAD,CAAUqE,GAAG,aAIpC,cAAC,IAAD,CAAOuB,KAAK,eAAZ,SACG5F,EACC,cAAC,EAAD,IAEA,cAAC,IAAD,CAAUqE,GAAI,CAAEwB,SAAU,cAK9B,cAAC,IAAD,CAAOD,KAAK,eAAZ,SACG5F,EACC,cAAC,EAAD,IAEA,cAAC,IAAD,CAAUqE,GAAI,CAAEwB,SAAU,cAK9B,cAAC,IAAD,CAAOD,KAAK,SAAZ,SACG5F,EACC,cAAC,IAAD,CAAUqE,GAAI,CAAEwB,SAAU,OAE1B,cAAC,EAAD,CAAM9E,SAAS,QAAQC,KAAK,iCAWhC,cAAC,IAAD,CAAO4E,KAAK,YAAZ,SACG5F,EACC,cAAC,IAAD,CAAUqE,GAAI,CAAEwB,SAAU,OAE1B,cAAC,EAAD,CAAM9E,SAAS,WAAWC,KAAK,yCCrE/C8E,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,UACE,cAAC,EAAD,QAGJC,SAASC,eAAe,U,wCCX1BC,OAAOxD,EAAIwD,OAAOC,OAASC,EAAQ,I","file":"static/js/main.0f5f37eb.chunk.js","sourcesContent":["import React, { useState, createContext } from \"react\";\n\nexport const UserContext = createContext({});\n\nexport const UserProvider = (props) => {\n  const [user, setUser] = useState({\n    _id: \"\",\n    username: \"\",\n    email: \"\",\n    password: \"\",\n    image: \"\",\n    win: \"\",\n    draw: \"\",\n    lose: \"\",\n  });\n  const [isAuth, setIsAuth] = useState(false);\n  const [players, setPlayers] = useState([]);\n  // const valueUser = useMemo(() => ({ user, setUser }), [user, setUser]);\n  // const valueAuthenticated = useMemo(\n  //   () => ({ isAuthenticated, setIsAuthenticated }),\n  //   [isAuthenticated, setIsAuthenticated]\n  // );\n  const usersContext = {\n    user,\n    setUser,\n    isAuth,\n    setIsAuth,\n    players,\n    setPlayers,\n  };\n\n  return (\n    <UserContext.Provider value={usersContext}>\n      {props.children}\n    </UserContext.Provider>\n  );\n};\n","import React from \"react\";\n\nfunction Input({ label, type, value, onChange }) {\n  return (\n    <div>\n      <div className=\"form-group\">\n        <label>{label}</label>\n        <input\n          onChange={onChange}\n          type={type}\n          className=\"form-control\"\n          value={value}\n        />\n      </div>\n    </div>\n  );\n}\n\nexport default Input;\n","import React, { useContext } from \"react\";\nimport { withRouter, Link } from \"react-router-dom\";\nimport Input from \"./Input\";\nimport { UserContext } from \"./UserContext\";\nimport axios from \"axios\";\n\nfunction Form({ formName, text, history }) {\n  const usersContext = useContext(UserContext);\n  const { user, setUser, isAuth, setIsAuth } = usersContext;\n\n  let emailInput;\n\n  const changeUsername = (event) => {\n    setUser({ ...user, username: event.target.value });\n  };\n  const changeEmail = (event) => {\n    setUser({ ...user, email: event.target.value });\n  };\n  const changePassword = (event) => {\n    setUser({ ...user, password: event.target.value });\n  };\n\n  const submitRegister = (event) => {\n    axios\n      .post(\"https://tic-tac-toe-uncr.herokuapp.com/app/register\", {\n        ...user,\n        login: 1,\n      })\n      .then((res) => {\n        if (res.data === \"User Already Exists\") {\n          console.log(res);\n          alert(\"user already exists, login instead!\");\n        } else {\n          setUser(res.data);\n          console.log(res.data);\n          setIsAuth(true);\n          history.push(\"/\");\n        }\n      });\n\n    event.preventDefault();\n  };\n\n  const submitLogin = (event) => {\n    axios\n      .post(\"https://tic-tac-toe-uncr.herokuapp.com/app/login\", {\n        username: user.username,\n        password: user.password,\n      })\n      .then((res) => {\n        if (res.data === \"No User Exists\") {\n          console.log(res);\n          alert(\"Email and Password didn't match or no exist\");\n        } else {\n          setUser(res.data);\n          setIsAuth(true);\n          console.log(res.data);\n          history.push(\"/\");\n        }\n      });\n    axios.post(\"https://tic-tac-toe-uncr.herokuapp.com/app/loginstatus\", {\n      username: user.username,\n    });\n    event.preventDefault();\n  };\n\n  if (formName !== \"Login\") {\n    emailInput = (\n      <Input\n        onChange={changeEmail}\n        type=\"email\"\n        label=\"Email\"\n        value={user.email}\n      />\n    );\n  }\n\n  return (\n    <div className=\"container mt-5\">\n      <h1>{formName}</h1>\n      <div className=\"row justify-content-center\">\n        <div className=\"col-lg-8  col-sm-12\">\n          <div className=\"card\">\n            <div className=\"card-body\">\n              {/* Makes POST request to /register route */}\n\n              <Input\n                onChange={changeUsername}\n                type=\"text\"\n                label=\"Username\"\n                value={user.username}\n              />\n              {emailInput}\n              <Input\n                onChange={changePassword}\n                type=\"password\"\n                label=\"Password\"\n                value={user.password}\n              />\n              <button\n                onClick={formName === \"Login\" ? submitLogin : submitRegister}\n                type=\"submit\"\n                className=\"btn form-btn\"\n              >\n                {formName}\n              </button>\n              <a href={`/${formName === \"Login\" ? \"Register\" : \"Login\"}`}>\n                {text}\n              </a>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\nexport default withRouter(Form);\n","import React, { useState, useEffect, useContext } from \"react\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport { UserContext } from \"../UserContext\";\nimport axios from \"axios\";\nimport io from \"socket.io-client\";\nimport $ from \"jquery\";\n\nfunction Board({ history }) {\n  const usersContext = useContext(UserContext);\n  const { user, setUser, setIsAuth } = usersContext;\n  const lose = Number(user.lose);\n  const win = Number(user.win);\n\n  const updateLose = () => {\n    axios\n      .post(\"https://tic-tac-toe-uncr.herokuapp.com/app/updatelose\", {\n        _id: user._id,\n        lose: lose + 1,\n      })\n      .then((res) => {\n        setUser({ ...user, lose: Number(res.data.lose) + 1 });\n      });\n  };\n  const updateWin = () => {\n    axios\n      .post(\"https://tic-tac-toe-uncr.herokuapp.com/app/updatewin\", {\n        _id: user._id,\n        win: win + 1,\n      })\n      .then((res) => {\n        console.log(res.data);\n        setUser({ ...user, win: Number(res.data.win) + 1 });\n      });\n  };\n\n  useEffect(() => {\n    const socket = io(\"https://tic-tac-toe-uncr.herokuapp.com\");\n    var myTurn = true;\n    var symbol;\n\n    function getBoardState() {\n      var obj = {};\n\n      /* We are creating an object where each attribute corresponds\n   to the name of a cell (r0c0, r0c1, ..., r2c2) and its value is\n   'X', 'O' or '' (empty).\n  */\n      $(\".board button\").each(function () {\n        obj[$(this).attr(\"id\")] = $(this).text() || \"\";\n      });\n\n      return obj;\n    }\n\n    function isGameOver() {\n      var state = getBoardState();\n      var matches = [\"XXX\", \"OOO\"]; // This are the string we will be looking for to declare the match over\n\n      // We are creating a string for each possible winning combination of the cells\n      var rows = [\n        state.r0c0 + state.r0c1 + state.r0c2, // 1st line\n        state.r1c0 + state.r1c1 + state.r1c2, // 2nd line\n        state.r2c0 + state.r2c1 + state.r2c2, // 3rd line\n        state.r0c0 + state.r1c0 + state.r2c0, // 1st column\n        state.r0c1 + state.r1c1 + state.r2c1, // 2nd column\n        state.r0c2 + state.r1c2 + state.r2c2, // 3rd column\n        state.r0c0 + state.r1c1 + state.r2c2, // Primary diagonal\n        state.r0c2 + state.r1c1 + state.r2c0, // Secondary diagonal\n      ];\n\n      // Loop through all the rows looking for a match\n      for (var i = 0; i < rows.length; i++) {\n        if (rows[i] === matches[0] || rows[i] === matches[1]) {\n          return true;\n        }\n      }\n\n      return false;\n    }\n\n    function renderTurnMessage() {\n      if (!myTurn) {\n        // If not player's turn disable the board\n        $(\"#message\").text(\"Your opponent's turn\");\n        $(\".board button\").attr(\"disabled\", true);\n      } else {\n        // Enable it otherwise\n        $(\"#message\").text(\"Your turn.\");\n        $(\".board button\").removeAttr(\"disabled\");\n      }\n    }\n\n    function makeMove(e) {\n      if (!myTurn) {\n        return; // Shouldn't happen since the board is disabled\n      }\n\n      if ($(this).text().length) {\n        return; // If cell is already checked\n      }\n\n      socket.emit(\"make.move\", {\n        // Valid move (on client side) -> emit to server\n        symbol: symbol,\n        position: $(this).attr(\"id\"),\n      });\n    }\n\n    // Bind event on players move\n    socket.on(\"move.made\", function (data) {\n      $(\"#\" + data.position).text(data.symbol); // Render move\n\n      // If the symbol of the last move was the same as the current player\n      // means that now is opponent's turn\n      myTurn = data.symbol !== symbol;\n\n      if (!isGameOver()) {\n        // If game isn't over show who's turn is this\n        renderTurnMessage();\n      } else {\n        // Else show win/lose message\n        if (myTurn) {\n          $(\"#message\").text(\"You lost.\");\n          // update lose\n          updateLose();\n        } else {\n          $(\"#message\").text(\"You won!\");\n          // update win\n          updateWin();\n        }\n\n        $(\".board button\").attr(\"disabled\", true); // Disable board\n      }\n    });\n\n    // Bind event for game begin\n    socket.on(\"game.begin\", function (data) {\n      symbol = data.symbol; // The server is assigning the symbol\n      myTurn = symbol === \"X\"; // 'X' starts first\n      renderTurnMessage();\n    });\n\n    // Bind on event for opponent leaving the game\n    socket.on(\"opponent.left\", function () {\n      $(\"#message\").text(\"Your opponent left the game.\");\n      $(\".board button\").attr(\"disabled\", true);\n    });\n\n    // Binding buttons on the board\n    $(function () {\n      $(\".board button\").attr(\"disabled\", true); // Disable board at the beginning\n      $(\".board> button\").on(\"click\", makeMove);\n    });\n  }, []);\n\n  return (\n    <div className=\"board-container\">\n      <div id=\"message\">Waiting for an opponent...</div>\n      <div className=\"board\">\n        <button className=\"btn\" id=\"r0c0\"></button>{\" \"}\n        <button className=\"btn\" id=\"r0c1\"></button>{\" \"}\n        <button className=\"btn\" id=\"r0c2\"></button>\n        <button className=\"btn\" id=\"r1c0\"></button>{\" \"}\n        <button className=\"btn\" id=\"r1c1\"></button>{\" \"}\n        <button className=\"btn\" id=\"r1c2\"></button>\n        <button className=\"btn\" id=\"r2c0\"></button>{\" \"}\n        <button className=\"btn\" id=\"r2c1\"></button>{\" \"}\n        <button className=\"btn\" id=\"r2c2\"></button>\n      </div>\n    </div>\n  );\n}\n\nexport default withRouter(Board);\n","import React, { useContext, useEffect } from \"react\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport { UserContext } from \"../UserContext\";\nimport axios from \"axios\";\n\nfunction Profile() {\n  const usersContext = useContext(UserContext);\n  const { user, setUser, setIsAuth } = usersContext;\n\n  const logout = () => {\n    axios.post(\"https://tic-tac-toe-uncr.herokuapp.com/app/logout\", user, {\n      withCredentials: true,\n    });\n    setUser({});\n    setIsAuth(false);\n  };\n\n  return (\n    <div className=\"profile\" id=\"profil\">\n      <div className=\"profile-text\">\n        <h3 className=\"heading-3\">{user.username}</h3>\n        <Link to=\"/viewprofile\">\n          {/* eslint-disable-next-line jsx-a11y/anchor-is-valid */}\n          <a className=\"link\">View Profile</a>\n        </Link>\n        <Link to=\"/login\">\n          {/* eslint-disable-next-line jsx-a11y/anchor-is-valid */}\n          <a onClick={logout} className=\"link\">\n            Log out\n          </a>\n        </Link>\n      </div>\n      <img\n        src={user.image ? `/images/${user.image}` : \"/images/default.png\"}\n        alt=\"profile-pic\"\n        className=\"profile-pic\"\n      />\n    </div>\n  );\n}\n\nexport default withRouter(Profile);\n","import React, { useState, useEffect, useContext } from \"react\";\nimport { UserContext } from \"../UserContext\";\nimport axios from \"axios\";\nimport io from \"socket.io-client\";\n\nfunction Sidebar() {\n  const usersContext = useContext(UserContext);\n  const { user, players, setPlayers } = usersContext;\n\n  const getPlayers = () => {\n    setPlayers([]);\n    axios\n      .get(\"https://tic-tac-toe-uncr.herokuapp.com/app/onlineplayer\")\n      .then((res) => {\n        let obj = res.data;\n        let onlinePlayers = obj.map((player) => {\n          return player.username;\n        });\n        setPlayers([...onlinePlayers]);\n      });\n  };\n\n  return (\n    <div className=\"sidebar\">\n      <h2 className=\"heading-2\">Online Player</h2>\n      <button className=\"btn invite-btn\" onClick={getPlayers}>\n        refresh\n      </button>\n      <ul className=\"sidebar-content\">\n        {players.map((player, index) => (\n          <div key={index} className=\"online-player\">\n            <li>{player}</li>\n          </div>\n        ))}\n      </ul>\n    </div>\n  );\n}\n\nexport default Sidebar;\n","import React from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport \"../tictactoe/Game.css\";\nimport Board from \"./Board\";\nimport Profile from \"./Profile\";\nimport Sidebar from \"./Sidebar\";\n\nfunction Game() {\n  return (\n    <div>\n      <h1 className=\"heading-1\">Tic Tac Toe</h1>\n      <div className=\"container-tictactoe\">\n        <Sidebar />\n        <Board />\n        <Profile></Profile>\n      </div>\n    </div>\n  );\n}\n\nexport default withRouter(Game);\n","import React, { useContext } from \"react\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport \"./ProfilePage.css\";\nimport { UserContext } from \"./UserContext\";\n\nfunction Profile() {\n  const usersContext = useContext(UserContext);\n  const { user } = usersContext;\n  const { win, draw, lose } = user;\n  const play = Number(win) + Number(draw) + Number(lose);\n\n  return (\n    <div>\n      <div class=\"container container-profile\">\n        <div class=\"card card-profile\">\n          <img\n            src={user.image ? `/images/${user.image}` : \"/images/default.png\"}\n            class=\"card-img-top card-img\"\n            alt=\"...\"\n          />\n          <div class=\"card-body\">\n            <h5 class=\"card-title\">Profile</h5>\n\n            <div class=\"stat\">\n              <p>Username</p>\n              <p>{user.username}</p>\n            </div>\n\n            <div class=\"stat\">\n              <p>Email</p>\n              <p>{user.email}</p>\n            </div>\n            <div class=\"stat\">\n              <p>Main</p>\n              <p>{play}</p>\n            </div>\n            <div class=\"stat\">\n              <p>Menang</p>\n              <p>\n                {Number(win) === 0\n                  ? \"0%\"\n                  : `${(Number(win) / play).toFixed(2) * 100}%`}\n                ({win})\n              </p>\n            </div>\n            <div class=\"stat\">\n              <p>Seri</p>\n              <p>\n                {Number(draw) === 0\n                  ? \"0%\"\n                  : `${(Number(draw) / play).toFixed(2) * 100}%`}\n                ({draw})\n              </p>\n            </div>\n            <div class=\"stat\">\n              <p>Kalah</p>\n              <p>\n                {Number(lose) === 0\n                  ? \"0%\"\n                  : `${(Number(lose) / play).toFixed(2) * 100}%`}\n                ({lose})\n              </p>\n            </div>\n            <Link to=\"/\">\n              <button class=\"btn back-btn invite-btn\">Back</button>\n            </Link>\n            <Link to=\"/editprofile\">\n              <button class=\"btn edit-btn invite-btn\">Edit Profile</button>\n            </Link>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default withRouter(Profile);\n","import React, { useContext } from \"react\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport { UserContext } from \"./UserContext\";\nimport axios from \"axios\";\nimport Input from \"./Input\";\n\nfunction EditProfile({ history }) {\n  const usersContext = useContext(UserContext);\n  const { user, setUser, setIsAuth } = usersContext;\n\n  const makeEdit = (event) => {\n    const formData = new FormData();\n\n    formData.append(\"image\", user.image);\n    formData.append(\"username\", user.username);\n    formData.append(\"email\", user.email);\n    formData.append(\"password\", user.password);\n    formData.append(\"_id\", user._id);\n\n    axios\n      .post(\"https://tic-tac-toe-uncr.herokuapp.com/app/editprofile\", formData)\n      .then((res) => {\n        alert(\"data successfully changed, please login again!\");\n        setIsAuth(false);\n        setUser({});\n      });\n    event.preventDefault();\n  };\n\n  return (\n    <div className=\"container mt-5\">\n      <h1>Edit Profile</h1>\n      <div className=\"row justify-content-center\">\n        <div className=\"col-lg-8  col-sm-12\">\n          <div className=\"card\">\n            <div className=\"card-body\">\n              {/* Makes POST request to /register route */}\n              <form onSubmit={makeEdit} encType=\"multipart/form-data\">\n                <div className=\"form-group\">\n                  <label htmlFor=\"file\">Photo</label>\n                  <input\n                    onChange={(event) => {\n                      setUser({ ...user, image: event.target.files[0] });\n                    }}\n                    type=\"file\"\n                    filename=\"image\"\n                    className=\"form-control\"\n                  />\n                </div>\n                <Input\n                  onChange={(event) => {\n                    setUser({ ...user, username: event.target.value });\n                  }}\n                  type=\"text\"\n                  label=\"Username\"\n                  value={user.username}\n                />\n                <Input\n                  onChange={(event) => {\n                    setUser({ ...user, email: event.target.value });\n                  }}\n                  type=\"email\"\n                  label=\"Email\"\n                  value={user.email}\n                />\n                <Input\n                  onChange={(event) => {\n                    setUser({ ...user, password: event.target.value });\n                  }}\n                  type=\"password\"\n                  label=\"Password\"\n                  value={user.password}\n                />\n                {/* bikin handleSubmit untuk history.push */}\n                <button type=\"submit\" className=\"btn form-btn\">\n                  Save\n                </button>\n              </form>\n              <Link to=\"/\">\n                {/* eslint-disable-next-line jsx-a11y/anchor-is-valid */}\n                <a className=\"btn invite-btn\">Cancel</a>\n              </Link>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default withRouter(EditProfile);\n","import \"bootstrap/dist/css/bootstrap.min.css\";\nimport { useContext } from \"react\";\nimport {\n  BrowserRouter as Router,\n  Route,\n  Switch,\n  Redirect,\n} from \"react-router-dom\";\nimport \"./App.css\";\nimport \"./loader\";\nimport { UserContext } from \"./UserContext\";\nimport Form from \"./Form\";\nimport Game from \"./tictactoe/Game.js\";\nimport ProfilePage from \"./ProfilePage\";\nimport EditProfile from \"./EditProfile\";\nimport { io } from \"socket.io-client\";\n\nfunction App() {\n  const usersContext = useContext(UserContext);\n  const { user, isAuth, players, setPlayers } = usersContext;\n\n  // useEffect(() => {\n  //   if (!isAuth) return;\n  //   const socket = io(\"http://localhost:4000\");\n  // }, [isAuth]);\n\n  return (\n    <Router>\n      <div className=\"App\">\n        <header className=\"App-header\">\n          <Switch>\n            {/* game route */}\n            <Route exact path=\"/\">\n              {isAuth ? <Game /> : <Redirect to=\"/login\" />}\n            </Route>\n\n            {/* view profile route */}\n            <Route path=\"/viewprofile\">\n              {isAuth ? (\n                <ProfilePage />\n              ) : (\n                <Redirect to={{ pathname: \"/login\" }} />\n              )}\n            </Route>\n\n            {/* edit profile route */}\n            <Route path=\"/editprofile\">\n              {isAuth ? (\n                <EditProfile />\n              ) : (\n                <Redirect to={{ pathname: \"/login\" }} />\n              )}\n            </Route>\n\n            {/* login route */}\n            <Route path=\"/login\">\n              {isAuth ? (\n                <Redirect to={{ pathname: \"/\" }} />\n              ) : (\n                <Form formName=\"Login\" text=\"Don't have an account yet?\" />\n              )}\n            </Route>\n            {/* <Route\n              path=\"/login\"\n              render={() => (\n                <Form formName=\"Login\" text=\"Don't have an account yet?\" />\n              )}\n            /> */}\n\n            {/* register route */}\n            <Route path=\"/register\">\n              {isAuth ? (\n                <Redirect to={{ pathname: \"/\" }} />\n              ) : (\n                <Form formName=\"Register\" text=\"Already have an account?\" />\n              )}\n            </Route>\n            {/* <Route\n              path=\"/register\"\n              render={() => (\n                <Form formName=\"Register\" text=\"Already have an account?\" />\n              )}\n            /> */}\n          </Switch>\n        </header>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { UserProvider } from \"./UserContext\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <UserProvider>\n      <App />\n    </UserProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n","window.$ = window.jQuery = require(\"jquery\");\n"],"sourceRoot":""}